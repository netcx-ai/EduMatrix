# EduMatrix 混合架构指南

## 架构概述

EduMatrix 采用混合架构设计，根据不同用户角色的需求提供最适合的界面和功能。

## 架构设计理念

### 1. **用户角色分层**
```
平台管理员 (最高权限)
├── 后端管理后台 (LayUI) - 系统级管理
└── 前端Vue界面 - 业务级管理

学校管理员 (中等权限)
├── 前端Vue学校端 - 学校级管理
└── 后端管理后台 - 高级配置

教师 (基础权限)
└── 前端Vue教师端 - 教学级管理
```

### 2. **技术栈选择**
- **后端管理后台**: ThinkPHP 6.0 + LayUI
  - 适合系统级配置和管理
  - 开发效率高，功能完整
  - 权限控制直接

- **前端Vue应用**: Vue 3 + Element Plus
  - 现代化用户体验
  - 响应式设计
  - 前后端分离

## 功能分配

### 后端管理后台 (LayUI)
**适用角色**: 平台管理员
**主要功能**:
- 用户权限管理
- 系统配置管理
- AI工具配置
- 日志审计
- 数据统计
- 数据库管理

**访问方式**: `/admin` 路径

### 前端Vue学校端
**适用角色**: 学校管理员
**主要功能**:
- 学院管理
- 教师管理
- 课程审核
- 使用统计
- 学校设置
- 公告管理

**访问方式**: `/school` 路径

### 前端Vue教师端
**适用角色**: 教师
**主要功能**:
- 课程管理
- 文件管理
- AI工具使用
- 个人设置

**访问方式**: `/teacher` 路径

## 权限控制

### 1. **路由权限**
- 前端路由基于角色控制
- 后端API基于JWT Token验证
- 管理后台基于Session验证

### 2. **数据权限**
- 学校管理员只能管理本校数据
- 教师只能管理个人数据
- 平台管理员可以管理所有数据

## 开发规范

### 1. **API接口规范**
```javascript
// 前端API调用示例
import { schoolApi } from '@/api/school'

// 获取学校统计
schoolApi.getStats().then(res => {
  // 处理数据
})
```

### 2. **组件开发规范**
```vue
<!-- Vue组件示例 -->
<template>
  <div class="component-name">
    <!-- 组件内容 -->
  </div>
</template>

<script>
export default {
  name: 'ComponentName',
  // 组件逻辑
}
</script>
```

### 3. **样式规范**
- 使用Element Plus组件库
- 遵循BEM命名规范
- 响应式设计

## 部署架构

### 开发环境
```
前端: http://localhost:3000
后端: http://localhost:8000
管理后台: http://localhost:8000/admin
```

### 生产环境
```
Nginx (负载均衡)
├── 前端静态文件 (/)
├── 后端API (/api)
└── 管理后台 (/admin)
```

## 最佳实践

### 1. **功能开发**
- 业务功能优先使用Vue前端
- 系统配置功能使用后端管理后台
- 避免功能重复开发

### 2. **用户体验**
- 保持界面风格统一
- 提供清晰的功能导航
- 优化加载性能

### 3. **维护管理**
- 定期备份数据
- 监控系统性能
- 及时更新安全补丁

## 常见问题

### Q: 为什么选择混合架构？
A: 混合架构能够充分利用不同技术栈的优势，为不同角色提供最适合的界面。

### Q: 如何选择使用前端还是后端管理？
A: 业务功能使用前端，系统配置使用后端管理后台。

### Q: 权限如何统一管理？
A: 通过JWT Token和Session双重验证，确保权限控制的一致性。

## 更新日志

- 2024-01-15: 创建混合架构设计
- 2024-01-16: 完善前端学校端功能
- 2024-01-17: 优化权限控制机制 