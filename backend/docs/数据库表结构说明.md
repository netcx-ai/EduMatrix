# 数据库表结构说明

## edu_teacher_titles (教师职称表)

### 表描述
该表用于存储教师职称信息，包括职称名称、代码、级别等相关数据。系统通过此表实现教师职称的标准化管理。

### 表结构

| 字段名 | 类型 | 长度 | 是否为空 | 默认值 | 主键 | 索引 | 描述 |
|--------|------|------|----------|--------|------|------|------|
| id | int | 11 | NOT NULL | AUTO_INCREMENT | ✓ | PRIMARY | 主键ID，自增 |
| name | varchar | 50 | NOT NULL | - | - | - | 职称名称（如：教授、副教授、讲师等） |
| code | varchar | 30 | NOT NULL | - | - | UNIQUE | 职称代码（唯一标识符） |
| sort | int | 11 | NULL | 0 | - | - | 排序权重，数值越小越靠前 |
| level | int | 11 | NULL | 1 | - | - | 职称级别（1-5，数值越小级别越高） |
| description | varchar | 255 | NULL | NULL | - | - | 职称描述或备注信息 |
| status | tinyint | 1 | NULL | 1 | - | - | 状态（1:启用 0:禁用） |
| create_time | datetime | - | NULL | CURRENT_TIMESTAMP | - | - | 创建时间 |
| update_time | datetime | - | NULL | CURRENT_TIMESTAMP | - | - | 更新时间（自动更新） |

### 字段详细说明

#### id
- **类型**: int(11)
- **约束**: NOT NULL, AUTO_INCREMENT, PRIMARY KEY
- **说明**: 主键ID，系统自动生成

#### name
- **类型**: varchar(50)
- **约束**: NOT NULL
- **说明**: 职称名称，如"教授"、"副教授"、"讲师"、"助教"、"其他"
- **用途**: 在前端界面显示的职称名称

#### code
- **类型**: varchar(30)
- **约束**: NOT NULL, UNIQUE
- **说明**: 职称代码，用于系统内部标识
- **用途**: 
  - 数据库关联时使用
  - API接口传递参数
  - 系统内部逻辑判断
- **示例**: "professor", "associate_professor", "lecturer", "assistant", "other"

#### sort
- **类型**: int(11)
- **约束**: NULL, DEFAULT 0
- **说明**: 排序权重，控制职称在列表中的显示顺序
- **规则**: 数值越小越靠前显示
- **建议值**: 教授(10) > 副教授(20) > 讲师(30) > 助教(40) > 其他(50)

#### level
- **类型**: int(11)
- **约束**: NULL, DEFAULT 1
- **说明**: 职称级别，用于权限控制和数据统计
- **级别定义**:
  - 1: 正高级职称（教授）
  - 2: 副高级职称（副教授）
  - 3: 中级职称（讲师）
  - 4: 初级职称（助教）
  - 5: 其他职称

#### description
- **类型**: varchar(255)
- **约束**: NULL, DEFAULT NULL
- **说明**: 职称描述或备注信息
- **用途**: 存储职称的详细说明、要求、职责等

#### status
- **类型**: tinyint(1)
- **约束**: NULL, DEFAULT 1
- **说明**: 职称状态标识
- **状态值**:
  - 1: 启用（正常使用）
  - 0: 禁用（停用，不在前端显示）

#### create_time
- **类型**: datetime
- **约束**: NULL, DEFAULT CURRENT_TIMESTAMP
- **说明**: 记录创建时间，系统自动生成

#### update_time
- **类型**: datetime
- **约束**: NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
- **说明**: 记录最后更新时间，系统自动维护

### 索引说明

#### PRIMARY KEY (`id`)
- **类型**: 主键索引
- **用途**: 确保记录唯一性，提高查询效率

#### UNIQUE KEY `idx_code` (`code`)
- **类型**: 唯一索引
- **用途**: 确保职称代码的唯一性，防止重复

### 表引擎和字符集
- **引擎**: InnoDB
- **字符集**: utf8mb4
- **排序规则**: utf8mb4_unicode_ci（支持中文和emoji）

### 默认数据

| id | name | code | sort | level | description | status |
|----|------|------|------|-------|-------------|--------|
| 1 | 教授 | professor | 10 | 1 | 正高级职称 | 1 |
| 2 | 副教授 | associate_professor | 20 | 2 | 副高级职称 | 1 |
| 3 | 讲师 | lecturer | 30 | 3 | 中级职称 | 1 |
| 4 | 助教 | assistant | 40 | 4 | 初级职称 | 1 |
| 5 | 其他 | other | 50 | 5 | 其他职称 | 1 |

### 使用说明

1. **新增职称**: 直接在表中插入新记录
2. **修改职称**: 更新对应字段，update_time会自动更新
3. **禁用职称**: 将status设置为0，不删除记录
4. **排序调整**: 修改sort字段值来调整显示顺序
5. **级别管理**: 通过level字段进行权限控制和统计分析

### 注意事项

1. **code字段**: 必须保持唯一性，建议使用英文标识符
2. **删除操作**: 建议使用软删除（status=0）而非物理删除
3. **缓存策略**: 该表数据变化不频繁，建议启用缓存机制
4. **数据备份**: 重要基础数据，建议定期备份

### 相关文件

- **模型文件**: `backend/app/model/TeacherTitle.php`
- **控制器**: `backend/app/controller/admin/TeacherController.php`
- **API接口**: `/api/school/teacher/list`, `/api/admin/teacher/add`
- **前端页面**: 教师管理相关页面 